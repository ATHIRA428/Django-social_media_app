{% extends 'basenew.html' %}

{% block content %}
  <div class="post">
    <h3>{{ post.user }}</h3>
    <p>{{ post.caption }}</p>
    <img src="{{ post.image_or_video_content.url }}" alt="Post Image">


    <div class="comments-section">
      {% for comment in comments %}
        <div class="comment">
          <p>{{ comment.user }}: {{ comment.text }}</p>
        </div>
      {% empty %}
        <p>No comments yet.</p>
      {% endfor %}
    </div>

    <div class="add-comment-section">
      <form method="POST" action="{% url 'add_comment' post_id=post.pk %}">
        {% csrf_token %}
        <input type="text" name="text" placeholder="Add a comment">
        <button type="submit">Post</button>
      </form>
    </div>
  </div>
{% endblock %}
